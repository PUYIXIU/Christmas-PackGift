
![logo-export.png](./screenshoot/logo-export.png)

# ğŸå‰è¨€

ç¬¬ä¸€æ¬¡ä»å¤´åˆ°å°¾å¼€å‘ä¸€æ¬¾å®Œæ•´çš„h5å°æ¸¸æˆï¼Œä»ç­–åˆ’ã€å¼€å‘åˆ°ä¸Šæ¶ä¸€å…±èŠ±è´¹äº†16å¤©å·¦å³çš„æ—¶é—´ï¼Œç¬”è€…ä»æ¥æ²¡æœ‰æ¥è§¦è¿‡æ¸¸æˆè¡Œä¸šï¼Œå¯¹æ¸¸æˆå¼€å‘ä¹Ÿå¤„äºæ‘¸ç´¢çš„åˆæœŸï¼Œ**è¿™ç¯‡æ–‡ç« çš„å†™ä½œç›®çš„ï¼Œæ˜¯è®°å½•æˆ‘é‡åˆ°çš„é—®é¢˜ï¼Œå’Œè§£å†³é—®é¢˜çš„æ€è·¯ã€‚**

ä»Šå¤©æ˜¯2024å¹´12æœˆ24æ—¥å¹³å®‰å¤œğŸ„ï¼Œ**ç¥å¤§å®¶åœ£è¯èŠ‚å¿«ä¹ï¼Œå¼€å¼€å¿ƒå¿ƒè¿æ¥2025ğŸ‰ğŸ‰ğŸ‰**ï¼

![2025](./screenshoot/2025.png)
# ğŸ…æ¸¸æˆä»‹ç»

> *åœ£è¯èŠ‚å‰å¤•ï¼Œ**åœ£è¯è€äººğŸ…**æ­£åœ¨å‡†å¤‡é€ç»™å­©å­ä»¬çš„ç¤¼ç›’ï¼Œ**æ”¶é›†æ•£è½åœ¨æˆ¿é—´å„å¤„çš„ææ–™æ‰“åŒ…æˆç¤¼ç›’ğŸ**ï¼Œæ‰¾åˆ°**åˆé€‚çš„é€ç¤¼å¯¹è±¡**ï¼Œ**æŒ‰ç…§ä»–ä»¬çš„å–œå¥½**è¿›è¡ŒåŒ…è£…ã€‚*

[itch.ioå®Œæ•´ç‰ˆæ¸¸æˆåœ°å€](https://electric-duck.itch.io/name-your-gift)

- **æ¸¸æˆåç§°ï¼š** Name Your Gift
- **ä¸­æ–‡åï¼š** æ±‚ç¤¼å¿…åº”
- **æ”¯æŒè¯­è¨€ï¼š** ä¸­æ–‡ã€è‹±æ–‡
- **æ¸¸ç©æ—¶é—´ï¼š** 5-10min
- **å¹³å°ï¼š** PC
- **æ¸¸ç©è®¾å¤‡ï¼š** é¼ æ ‡ã€é”®ç›˜
- **è¿è¡Œå¹³å°ï¼š** æµè§ˆå™¨
- **æ¸¸æˆç±»å‹ï¼š** 2då¹³å°è·³è·ƒã€åƒç´ é£æ ¼

### âœ‚ï¸æ¸¸æˆæˆªå›¾


![å¼€å§‹ç•Œé¢](./screenshoot/en-startMenu.png)

![å­©å­èœå•](./screenshoot/pickChild.png)

![å¯¹è¯ç³»ç»Ÿ](./screenshoot/talkWthElf.png)

![ç¤¼ç›’å®šåˆ¶](./screenshoot/styleGiftBox.png)

![æ¸¸æˆèƒœåˆ©](./screenshoot/YouWin.png)

![èƒœåˆ©åœºæ™¯](./screenshoot/santa_night.gif)

### ğŸ®æ“ä½œè§„åˆ™

- â„ï¸ä½¿ç”¨**A/D/W**æˆ–è€…**â†/â†’/â†‘**è¿›è¡Œç§»åŠ¨å’Œè·³è·ƒ
- â›„ï¸**Eé”®**ä¸¾èµ·ç‰©å“ï¼Œ**Xé”®**ä¸NPCæˆ–æ ·å¼å°è¿›è¡Œäº¤äº’ï¼Œ**Spaceé”®**è·³è¿‡å¯¹è¯
- ğŸé˜…è¯»å­©å­ä»¬å¯„æ¥çš„**ä¿¡ä»¶**ï¼Œæ‰¾åˆ°**é€‚åˆä»–ä»¬çš„ç¤¼ç‰©**ï¼ŒæŒ‰ç…§ä»–ä»¬çš„**å–œå¥½**è¿›è¡ŒåŒ…è£…
- ğŸ›·å°†ç¡®è®¤åŒ…è£…å¥½çš„ç¤¼ç›’**ä¸¢åˆ°é›ªæ©‡è½¦ä¸­**


![ch-rulesMenu.png](./screenshoot/ch-rulesMenu.png)

![ch-rulesMenu2.png](./screenshoot/ch-rulesMenu2.png)

![ch-rulesMenu3.png](./screenshoot/ch-rulesMenu3.png)

# ğŸ’»å¼€å‘è¿‡ç¨‹

## ğŸ“˜ç¬¬ä¸€æ­¥ï¼šç­–åˆ’

è¿™é‡Œä¸»è¦ç”¨å‡ ä¸ªé—®é¢˜ä½œä¸ºåˆ‡å…¥ç‚¹ï¼š

*1. ä¸ºä»€ä¹ˆè¦åšè¿™æ¬¾æ¸¸æˆï¼Ÿ*

*2. è¿™æ¬¾æ¸¸æˆçš„æ ¸å¿ƒç©æ³•æ˜¯ä»€ä¹ˆï¼Ÿ*

*3. è¿™æ¬¾æ¸¸æˆå¸Œæœ›è¾¾æˆçš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ*

### *é—®é¢˜1ï¼šä¸ºä»€ä¹ˆè¦åšè¿™æ¬¾æ¸¸æˆï¼Ÿ*
**ç­”ï¼š** çº¯ä¸»è§‚ç­”æ¡ˆã€‚

å› ä¸ºç¬”è€…å¹³æ—¶æ¯”è¾ƒå–œæ¬¢æ‰“æ¸¸æˆï¼Œæ¯”è¾ƒå…³æ³¨ç‹¬ç«‹æ¸¸æˆä¸ç‹¬æ¸¸å¼€å‘è€…ï¼Œå¸Œæœ›èƒ½åŠ å…¥è¿™ä¸ªè¡Œåˆ—ï¼Œ

ç¬”è€…æœ¬èŒæ˜¯Webå‰ç«¯å·¥ç¨‹å¸ˆï¼Œåªèƒ½é ä¸‹ç­åé›¶ç¢æ—¶é—´å­¦ä¹ æ¸¸æˆç›¸å…³çŸ¥è¯†ï¼Œ

ä½†æ— è®ºæ€ä¹ˆå­¦ï¼Œæ€»è§‰å¾—æ‘¸ä¸åˆ°é—¨è·¯ï¼Œäºæ˜¯**å¸Œæœ›åˆ©ç”¨ç°åœ¨å­¦åˆ°çš„ä¸œè¥¿ï¼Œå®Œå®Œæ•´æ•´çš„åšä¸€æ¬¾æ¸¸æˆï¼Œäº²è‡ªå®è·µä¸€ä¸‹ï¼Œæ€»ç»“ç»éªŒï¼Œä¸ºä¸‹ä¸€æ­¥çš„å­¦ä¹ æ‰¾åˆ°æ–¹å‘ã€‚**

### é—®é¢˜2ï¼šè¿™æ¬¾æ¸¸æˆçš„æ ¸å¿ƒç©æ³•æ˜¯ä»€ä¹ˆï¼Ÿ

**ç­”ï¼š** è¿™æ¬¾æ¸¸æˆå®é™…ä¸Šæ›´åƒæ˜¯ä¸€æ¬¡**ä¸´æ‘¹**ã€‚
ç©æ³•ä¸Šå¹¶æ²¡æ€ä¹ˆè®¾è®¡ï¼Œæœ€åˆçš„æƒ³æ³•æ˜¯ï¼š*èƒ½åˆ©ç”¨ç°åœ¨å­¦ä¹ åˆ°çš„ä¸œè¥¿ï¼Œä»å¤´åˆ°è„šåˆ¶ä½œå‡ºä¸€æ¬¾å’Œåœ£è¯èŠ‚ç›¸å…³çš„æ¸¸æˆå°±è¡Œã€‚*

ä¸´æ‘¹çš„å¯¹è±¡æ˜¯itch.ioä¸Šçš„åˆ›ä½œè€…[williambilliamçš„æ¸¸æˆä½œå“festive-frenzy](https://williambilliam.itch.io/festive-frenzy)ï¼Œ2023å¹´itch.io Christmas Game Jamçš„å‚èµ›è·å¥–æ¸¸æˆã€‚

![festive-frenzy.png](./screenshoot/festive-frenzy.png)
è¯•ç©ä¹‹åè§‰å¾—éå¸¸é€‚åˆæ¸¸æˆå¼€å‘ä¸Šæ‰‹ã€‚**è¿™æ¬¾æ¸¸æˆçš„ç©æ³•å°±æ˜¯ï¼š** *æ”¶é›†åˆ¶ä½œç¤¼ç›’éœ€è¦çš„3æ ·å¿…å¤‡ææ–™ï¼šå½©çº¸ã€ç¤¼èŠ±ã€ç¤¼ç‰©ï¼Œè¿™äº›ææ–™æ•£è½åœ¨åœ°å›¾çš„å„å¤„ï¼ŒæŠŠå®ƒä»¬å¸¦åˆ°åˆæˆç §ï¼Œåˆæˆä¸ºä¸€ä¸ªç¤¼ç›’ï¼Œç„¶åä¸¢åˆ°é›ªæ©‡è½¦å†…ã€‚å°†æ‰€æœ‰çš„ç¤¼ç›’éƒ½ä¸¢è¿›é›ªæ©‡å†…ï¼Œå³ç®—æ¸¸æˆèƒœåˆ©ã€‚*

æ¸¸æˆç©æ³•éå¸¸å¥‘åˆ2023å¹´Christmas Game Jamçš„ç‰¹æ®Šç‰©å“è¦æ±‚ï¼š**ç §**ã€‚

ä½†å¦‚æœä»…é™äºæ­¤ï¼Œç©æ³•ä¼¼ä¹è¿‡äºå•è°ƒï¼Œä¸æ­¤åŒæ—¶æˆ‘åˆç©äº†å¦ä¸€æ¬¾å°æ¸¸æˆï¼š[itch.ioä¸Šåˆ›ä½œè€…duzdaçš„æ¸¸æˆä½œå“santa-says](https://duzda.itch.io/santa-says)ã€‚

![santa-says.png](./screenshoot/santa-says.png)

**è¿™æ¬¾æ¸¸æˆçš„æ ¸å¿ƒç©æ³•æ˜¯ï¼š** *æ¯éš”ä¸€æ®µæ—¶é—´ç©å®¶å¤´é¡¶ä¼šæ‰ä¸‹ä¸€ä¸ªæœ‰ç€ä¸åŒå½©çº¸ã€å½©å¸¦ã€å°ºå¯¸ã€çº¹ç†çš„ç¤¼ç›’ï¼Œå››å‘¨æœ‰4ä¸ªä¼ é€å¸¦æŒ‡å‘4ä¸ªèˆ±é—¨ï¼Œæ¯ä¸ªèˆ±é—¨ä¸Šéƒ½æœ‰ä¸€ä¸ªæŒ‡ç¤ºç‰Œï¼Œä¸Šé¢ç”»ç€ä¸€ä¸ªç¤¼ç›’ï¼Œæ—è¾¹å†™ç€ä¸€ä¸ªå…³é”®å­—ï¼ˆå½©çº¸/å½©å¸¦/å°ºå¯¸/çº¹ç†ï¼‰ï¼Œä½ éœ€è¦æ ¹æ®è¿™ä¸ªæŒ‡ç¤ºï¼Œå°†ç¤¼ç›’é€åˆ°åŒ¹é…æŒ‡ç¤ºç‰Œä¸Šç¤¼ç›’çš„å…³é”®å­—éƒ¨ä½çš„èˆ±é—¨ã€‚*

æˆ‘è®¤ä¸ºè¿™ä¸ªæ¸¸æˆä½œä¸ºä¸€ä¸ªæ¸¸æˆåŸå‹è€Œè¨€ç›¸å½“æœ‰è¶£ï¼Œäºæ˜¯å°±å€Ÿé‰´äº†å…¶ä¸­å¯¹ç¤¼ç›’æ ·å¼è¿›è¡Œç­›é€‰çš„ç©æ³•ã€‚

**NameYourGift**åœ¨festive-frenzyçš„æ¸¸æˆåŸºç¡€ä¹‹ä¸Šï¼ŒåŠ å…¥äº†santa-saysçš„éƒ¨åˆ†è¦ç´ ï¼Œ**è®¾è®¡äº†æœ€ç»ˆçš„ç©æ³•ï¼š**

- **æ”¶é›†åˆ¶ä½œç¤¼ç›’çš„é“å…·**â€”â€”å½©çº¸ã€ç¤¼èŠ±ã€ç¤¼ç‰©ï¼Œå°†å®ƒä»¬å¸¦åˆ°åˆæˆç §ï¼Œåˆæˆä¸ºç¤¼ç›’ã€‚
- è¿™å›ä¸ä»…ä»…è¦è€ƒè™‘ç¤¼ç›’çš„åˆ¶ä½œï¼Œè¿˜è¦**è€ƒè™‘é€ç¤¼å¯¹è±¡**ï¼Œä½ è¦æ ¹æ®å­©å­ä»¬å¯„æ¥çš„ä¿¡ä»¶ï¼Œæ¥åˆ¤æ–­ä»–ä»¬å¯¹åº”çš„ç¤¼ç‰©ï¼š
    - å­©å­ä»¬çš„ä¿¡ä»¶åŒ…å«å¦‚ä¸‹ä¿¡æ¯ï¼š
        - ä»–ä»¬çš„æƒ³æ³•ã€å¸Œæœ›æˆ–è€…çƒ¦æ¼ï¼Œå­©å­ä»¬ä¸ä¼šç›´æ¥å‘ä½ è¯´æ˜ä»–ä»¬æƒ³è¦çš„ç¤¼ç‰©ï¼Œä½†**ä½ éœ€è¦æ ¹æ®ä»–ä»¬çš„æè¿°æ¥æ¨æµ‹ä»–ä»¬å¯èƒ½éœ€è¦çš„ç¤¼ç‰©ã€‚**
        - ä»–ä»¬å–œæ¬¢çš„å½©çº¸ã€å½©å¸¦ã€çº¹ç†ï¼Œä½ éœ€è¦**å°†ç¤¼ç›’å®šåˆ¶ä¸ºä»–ä»¬å–œæ¬¢çš„æ ·å­ã€‚**
- ç©å®¶éœ€è¦å¸¦ç€ç¤¼ç›’ï¼Œä¸å°ç²¾çµè¿›è¡Œå¯¹è¯ï¼Œ**å¯¹è¯å†…å®¹ä¼šé€éœ²ä¸ç¤¼ç‰©ç›¸å…³çš„ä¿¡æ¯**ï¼Œç©å®¶å¯ä»¥æ ¹æ®å¯¹è¯ä¿¡æ¯è¿›ä¸€æ­¥åˆ¤æ–­ä¸ç¤¼ç‰©åŒ¹é…çš„å­©å­ã€‚
- ç©å®¶å°†åˆ¶å®šå¥½æ ·å¼çš„ç¤¼ç›’ä¸¢åˆ°é›ªæ©‡è½¦ä¸­ï¼Œå¦‚æœåŒ¹é…æ­£ç¡®ï¼Œåˆ™ç³»ç»Ÿåˆ¤æ–­ç¤¼ç‰©æ‰“åŒ…æˆåŠŸ
- **ä¸ºæ‰€æœ‰å­©å­æ‰“åŒ…å¥½ç¤¼ç‰©ï¼Œæ¸¸æˆèƒœåˆ©ã€‚**


### é—®é¢˜3ï¼šè¿™æ¬¾æ¸¸æˆå¸Œæœ›è¾¾æˆçš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ

**ç­”ï¼š** **ä¸ºäº†åˆ©ç”¨è‡ªå·±ç›®å‰æ‰€å­¦ï¼Œå®Œå®Œæ•´æ•´åšä¸€æ¬¾æ¸¸æˆã€‚**

è¿™ä¸ªç›®æ ‡ä¹Ÿç®—æ˜¯è¾¾åˆ°äº†ï¼Œä½œä¸ºåˆå¿ƒè€…å¸Œæœ›èƒ½å¤šåšä¸€äº›å®Œæ•´åº¦æ¯”è¾ƒé«˜çš„å°Demoï¼Œ

è¦ç¬”è€…è‡ªå·±è¯´ï¼ŒNameYourGiftè·Ÿã€å¥½ç©ã€‘å¯å·®å¾—è¿œäº†ï¼Œç¾æœ¯é£æ ¼ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå‡ºä¼—çš„ï¼Œ**æ˜¯ä¸€æ¬¾æ²¡æœ‰ä»»ä½•ç‰¹è‰²çš„å°Demoï¼Œ**

ä½†åœ¨åˆ¶ä½œä¸­ï¼Œç¬”è€…è‡ªå·±èƒ½åœ¨æ¯ç‡¥çš„å­¦ä¹ è¿‡ç¨‹ä¸­ä½“éªŒåˆ°æ¸¸æˆå¼€å‘çš„ä¹è¶£ï¼Œè¿™ç‚¹å°±è¶³å¤Ÿäº†ã€‚

å½“ç„¶ï¼Œåœ¨ç©æ³•è®¾è®¡ã€ç©å®¶è°ƒç ”ã€æ¦‚å¿µè®¾è®¡ã€æ¸¸æˆç†å¿µã€æŠ€æœ¯é€‰å‹ã€ç¾æœ¯è®¾è®¡ã€æ¸¸æˆæµ‹è¯•ã€æ¸¸æˆå‘è¡Œã€å¸‚åœºæ¨å¹¿ç­‰ç­‰æ–¹é¢ï¼Œæˆ‘å…¨éƒ½çŸ¥ä¹‹ç”šå°‘ï¼Œä½†å‡¡äº‹æ€»æ˜¯è¦æœ‰ä¸ªå¼€å§‹ã€‚

*è¿˜æœ‰ä¸ªå¾ˆé‡è¦çš„ç›®çš„ï¼Œå°±æ˜¯ç”¨è¿™æ¬¾æ¸¸æˆæ¥åº†ç¥2024å¹´åœ£è¯èŠ‚ ~~ï¼ˆä¹å°±å®Œäº†ï¼‰~~*

## ğŸ“–ç¬¬äºŒæ­¥ï¼šå¼€å‘

### ğŸ› å¼€å‘å·¥å…·&&å‡†å¤‡å·¥ä½œ

- æ¸¸æˆç¼–è¾‘å™¨ï¼š*Cocos Creator 2.4.10*
- ä»£ç ç¼–è¾‘å™¨ï¼š*VSCode*
- åƒç´ ç”»ç»˜åˆ¶ï¼š*Aseprite v1.3.10.1*
- ç²¾çµå›¾å¤„ç†ï¼š*TexturePacker*
- å›¾ç‰‡å¤„ç†ï¼š*Photoshop 2019*
- æ“ä½œç³»ç»Ÿï¼š*Windows 10*
- è¿›åº¦è®°å½•å·¥å…·ï¼š *Notion*
- ç´ ææ•´ç†å·¥å…·ï¼š*Eagle*

å…³äºcocosçš„å­¦ä¹ ï¼Œä¸»è¦æ˜¯é€šè¿‡2ä¸ªè¯¾ç¨‹è¿›è¡Œï¼š

- [CocosCreatorå…¥é—¨æ•™ç¨‹ä¹‹2Dæ¸¸æˆå¼€å‘ã€æŒç»­æ›´æ–°â€”ç¬¬23é›†ã€‘](https://www.bilibili.com/video/BV11W4y1T7ip/?spm_id_from=333.337.search-card.all.click&vd_source=f55c755ba9aae4a4382a0f9d56858d01)
- [ã€Cocosæ•™ç¨‹-æ¸¸æˆå¼€å‘ã€‘2Dæ¨ªæ¿è§’è‰²ç§»åŠ¨-æ”»å‡»-è·³è·ƒ-å†²åˆº-é—ªé¿](https://www.bilibili.com/video/BV1rf4y1T73d/?spm_id_from=333.337.search-card.all.click&vd_source=f55c755ba9aae4a4382a0f9d56858d01)

### âš™ï¸å®ç°è¿‡ç¨‹

å¼€å‘ç»“æŸåreviewäº†ä»£ç ï¼Œæœ‰äº›åœ°æ–¹çš„å®ç°éƒ½ç›¸å½“ç²—ç³™ï¼Œ

åƒè§’è‰²ç§»åŠ¨ã€ç‰©ä½“äº¤äº’è¿™ç§åŠŸèƒ½ï¼Œä¸€å®šæœ‰æ›´æˆç†Ÿç¨³å®šçš„è„šæœ¬å®ç°æ–¹å¼ï¼Œå› æ­¤è¿™é‡Œä»‹ç»çš„å„ç§å®ç°æ–¹å¼ï¼Œéƒ½ä¸æ˜¯æœ€å¥½çš„å®ç°æ–¹æ³•ï¼Œæœ‰è¿›ä¸€æ­¥ä¼˜åŒ–çš„ç©ºé—´ã€‚

#### ğŸ—ºï¸åœ°å›¾åœºæ™¯æ­å»º

æ¨è2ä¸ªbç«™è§†é¢‘ï¼š

- [ã€æ— åºŸè¯æ•™ç¨‹ã€‘åœ¨Tiledä¸­åˆ¶ä½œåŠ¨ç”»ç“¦ç‰‡å›¾å¹¶å¯¼å…¥Cocos Creatorå¼•æ“](https://www.bilibili.com/video/BV1P54y1F78b/?spm_id_from=333.1007.top_right_bar_window_history.content.click&vd_source=f55c755ba9aae4a4382a0f9d56858d01)
- [ã€Cocosæ•™ç¨‹ã€‘å¦‚ä½•å®ç°äººç‰©ä¸å¢™å£é—´çš„ç¢°æ’ï¼Ÿ](https://www.bilibili.com/video/BV16E411M74V/?spm_id_from=333.1007.top_right_bar_window_history.content.click&vd_source=f55c755ba9aae4a4382a0f9d56858d01)

ç¬”è€…æœ€åˆæ‘¸ç´¢cocoså¼•æ“æ—¶ï¼ŒçŸ¥é“æœ‰TileMapè¿™ä¸ªä¸œè¥¿ï¼Œå­¦ä¹ Unityçš„æ—¶å€™ç”¨è¿‡TileMapç¼–è¾‘å™¨ï¼Œä½†æ˜¯åˆ°äº†cocosè¿™é‡Œï¼Œå…³äºTileMapçš„ä»‹ç»å¾ˆå°‘ï¼Œçœ‹å®˜ç½‘æ–‡æ¡£ä»‹ç»ï¼Œéœ€è¦å¼•å…¥Tiledç¼–è¾‘å™¨å¯¼å‡ºçš„.tmxçš„æ–‡ä»¶ã€‚

å½“æ—¶éå¸¸æ‘¸ä¸ç€å¤´è„‘ï¼Œæ‘¸ç´¢äº†ä¸€ä¸‹Tiledç¼–è¾‘å™¨ï¼Œæ„Ÿè§‰æ¯”è¾ƒå¤æ‚ï¼Œä¸æ˜¯ä¸€ä¸‹å°±èƒ½èµ°é€šçš„ï¼Œäºæ˜¯å°±ä¸æ„¿æ„ç”¨TileMapç»§ç»­è¿›è¡Œåœ°å›¾ç¼–è¾‘äº†ã€‚

äºæ˜¯é€‰æ‹©äº†æœ€éº»çƒ¦çš„ä¸€ç§æ–¹æ³•ï¼šç›´æ¥ä¸Šæ‰‹ç”¨ç“¦ç‰‡ä¸€ç –ä¸€ç“¦æŠŠåœ°å›¾å’èµ·æ¥ï¼Œç„¶åæ‰‹åŠ¨ç¼–è¾‘åœ°å›¾åŒ…å›´ç›’ ~~ï¼ˆè‡ªå·±çœ‹åˆ°éƒ½æ— è¯­çš„ç¨‹åº¦ï¼‰~~ ã€‚

ä¹Ÿäºæ˜¯åœ°å›¾å°ï¼Œä¸€å¼€å§‹å«æˆ‘å’æˆåŠŸäº†ï¼Œå› ä¸ºè¿™ä¸ªå¥‡è‘©æ“ä½œï¼Œå¯¼è‡´åé¢å¾ˆå¤šè«åå…¶å¦™çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šæˆ‘åˆ©ç”¨ç©å®¶ä¸åœ°é¢ç¢°æ’çš„æ³•å‘é‡yå€¼æ˜¯å¦ç­‰äº-1æ¥åˆ¤æ–­ç©å®¶è·³è·ƒæ˜¯å¦ç«™ç«‹åœ¨åœ°é¢ä¸Šï¼Œä½†æ•ˆæœæ€»æ˜¯ä¸å¥½ï¼Œåæ¥å‘ç°æ˜¯å› ä¸ºæˆ‘è‡ªå®šä¹‰çš„åœ°é¢åŒ…å›´ç›’ä¸å®Œå…¨æ˜¯æ°´å¹³åœ°é¢çš„åŸå› ï¼ˆå­˜åœ¨æ–œåº¦ï¼‰

ä¹‹åçœ‹äº†è¿™ä¸¤ç¯‡æ•™ç¨‹ï¼Œ**ä¸€ç¯‡ä»‹ç»å¦‚ä½•å°†Tiledä¸­åˆ¶ä½œçš„åŠ¨ç”»ç“¦ç‰‡å›¾å¯¼å…¥Cocos Creatorï¼Œä¸€ç¯‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ä»£ç æ–¹å¼ç»™TileMapæ·»åŠ ç¢°æ’ç›’**ï¼Œä½†è·ŸUnityçš„TileMap Collider2Dæ¯”èµ·æ¥ï¼Œæ„Ÿè§‰cocosè¿˜æ˜¯éº»çƒ¦å¾ˆå¤šã€‚


![ä¸€ç –ä¸€ç“¦å’èµ·æ¥çš„ï¼ˆæ‚è„¸ï¼‰](./screenshoot/map.png)


#### ğŸš¶ğŸ»â€â™‚ï¸è§’è‰²æ°´å¹³ç§»åŠ¨


![æ°´å¹³ç§»åŠ¨.gif](./screenshoot/æ°´å¹³ç§»åŠ¨.gif)

æ ¹æ®A/Dé”®çš„è¾“å…¥ï¼Œåˆ¤æ–­Playerçš„æœå‘ï¼Œå¹¶**ç»™Playerçš„RigidBodyä¸€ä¸ªçº¿æ€§é€Ÿåº¦**ï¼š
```typescript
@ccclass
export default class PlayerMove extends cc.Component {
  // èµ°è·¯é€Ÿåº¦
  walkSpeed: number = 0;
  // åˆå§‹èµ°è·¯é€Ÿåº¦
  initWalkSpeed: number = 0;
  // æœ€å¿«èµ°è·¯é€Ÿåº¦
  maxWalkSpeed: number = 350;
  // æœå‘
  dir: number = 1;
  // åˆšä½“
  rbBody: cc.RigidBody = null;
  onLoad() {
    this.rbBody = this.node.getComponent(cc.RigidBody);
  }
  start(){
    cc.systemEvent.on(
      cc.SystemEvent.EventType.KEY_DOWN,
      (event: cc.Event.EventKeyboard) => {
          switch(event.keyCode){
              case cc.macro.KEY.a:
              case cc.macro.KEY.left:
                // å‘å·¦ç§»åŠ¨
                this.setFaceDir(-1);
                this.move();
                break;
              case cc.macro.KEY.d:
              case cc.macro.KEY.right:
                // å‘å³ç§»åŠ¨
                this.setFaceDir(1);
                this.move();
                break;
          }
      }
    )
  }
  move(dir){
    let v = this.rbBody.linearVelocity;
    // é€æ¸åŠ å¤§åŠ é€Ÿåº¦ï¼Œç›´åˆ°æœ€å¤§å€¼200
    if(this.walkSpeed < 200){
      this.walkSpeed += 2;
    }
    // å­˜åœ¨ä¸€ä¸ªé€Ÿåº¦æœ€å¤§å€¼
    if (Math.abs(v.x + this.walkSpeed * this.dir) < this.maxWalkSpeed) {
      v.x += this.walkSpeed * this.dir;
    } else {
      v.x = this.maxWalkSpeed * this.dir;
    }
    this.rbBody.linearVelocity = v;
  }
  
  // è®¾ç½®æœå‘
  setFaceDir(dir) {
    // è½¬å‘
    if (this.dir !== dir) {
      this.dir = dir;
      // è½¬å‘æ—¶åŠ é€Ÿåº¦å˜ä¸ºåˆå§‹å€¼
      this.walkSpeed = this.initWalkSpeed;
      if (this.dir == 1) {
        // å‘å³
        this.node.scaleX = 1;
      } else {
        // å‘å·¦
        this.node.scaleX = -1;
      }
    }
  }
}

```

æ­¤æ—¶ï¼ŒPlayerçš„ç§»åŠ¨ä¾æ—§æ˜¯å­˜åœ¨é—®é¢˜çš„ï¼Œå› ä¸ºç§»åŠ¨äº‹ä»¶æ˜¯åœ¨**KEY_DOWN**ä¸­è§¦å‘å¹¶è¢«è°ƒç”¨çš„ï¼Œ**å¦‚æœé•¿æŒ‰A/Dé”®ï¼ŒKEY_DOWNä»…ä¼šè¢«è°ƒç”¨ä¸€æ¬¡**ï¼Œè§’è‰²ä¹Ÿå°±ä»…ä¼šç§»åŠ¨ä¸€å°ä¸‹ï¼Œä½†æˆ‘å¸Œæœ›çœ‹åˆ°çš„æ˜¯é•¿æŒ‰æ—¶è§’è‰²åŠ é€Ÿç§»åŠ¨ã€‚

**å› æ­¤è¿™é‡Œå°±è¦é…åˆKEY_UPäº‹ä»¶å’ŒæŒ‰é”®è®°å½•å“ˆå¸Œè¡¨è¿›è¡Œå®ç°ï¼š**
- å‚è€ƒå¸–å­ï¼š[cocos creator ç»„åˆé”®æ€ä¹ˆç”¨ï¼Ÿ](https://forum.cocos.org/t/topic/76396)

å…·ä½“æ€è·¯å°±æ˜¯åœ¨KEY_DOWNç›‘å¬åˆ°æŒ‰é”®æŒ‰ä¸‹æ—¶ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­å°†è¿™ä¸ªæŒ‰é”®çš„çŠ¶æ€ç½®ä¸ºæ¿€æ´»ï¼Œåœ¨KEY_UPç›‘å¬åˆ°æŒ‰é”®è¢«æ¾å¼€æ—¶ï¼Œå†å°†æŒ‰é”®é‡ç½®ã€‚

åœ¨updateä¸­å¯¹å“ˆå¸Œè¡¨çš„å±æ€§å€¼è¿›è¡Œè½®è¯¢ï¼Œ**å‘ç°æœ‰å¤„äºæ¿€æ´»çŠ¶æ€çš„æŒ‰é”®å°±è°ƒç”¨å¯¹åº”çš„æŒ‰é”®æ–¹æ³•ï¼š**

```typescript
  // å½“å‰æŒ‰ä¸‹çš„é”®
  pressKeys = [];  
  onLoad() {
    this.pressKeys = []
  }
  start(){
    cc.systemEvent.on(
      cc.SystemEvent.EventType.KEY_UP,
      (event: cc.Event.EventKeyboard) => {
        // æŒ‰é”®é‡ç½®
        this.pressKeys[event.keyCode] = false;
      }
    );
    cc.systemEvent.on(
      cc.SystemEvent.EventType.KEY_DOWN,
      (event: cc.Event.EventKeyboard) => {
        // æŒ‰é”®è¢«æ¿€æ´»
        this.pressKeys[event.keyCode] = true;
      }
    );
  }
  update(dt){
      // æ£€æŸ¥pressKeysæŒ‰é”®è¡¨
      this.checkKeyboard()
  }
    // æ£€æŸ¥æŒ‰é”®
  checkKeyboard(){
    for (let [key, value] of Object.entries(this.pressKeys)) {
        if (value == false) continue;
        let keyCode = Number(key);
        switch (keyCode) {
          case cc.macro.KEY.a:
          case cc.macro.KEY.left:
            // å‘å·¦ç§»åŠ¨
            this.setFaceDir(-1);
            this.move();
            break;
          case cc.macro.KEY.d:
          case cc.macro.KEY.right:
            // å‘å·¦ç§»åŠ¨
            this.setFaceDir(1);
            this.move();
            break;
          case cc.macro.KEY.w:
          case cc.macro.KEY.up:
            // è·³è·ƒ
            this.jump();
            break;
        }
      }
  }
```

#### ğŸ“·è§’è‰²è·³è·ƒä¸ç›¸æœºè·Ÿéš

![jump.gif](./screenshoot/jump.gif)

è§’è‰²è·³è·ƒä¸­æœ€å¥½å®ç°çš„å°±æ˜¯è·³è·ƒåŠ¨ä½œæœ¬èº«ï¼Œ**ç»™Playerçš„RigidBodyä¸€ä¸ªæ²¿yè½´æœä¸Šçš„linearVelocityçº¿æ€§é€Ÿåº¦**å³å¯ï¼š

```typescript
  // æ˜¯å¦å¯ä»¥è·³è·ƒ
  jumpEnable: boolean = true
  // è·³èµ·çš„çº¿æ€§é€Ÿåº¦
  jumpSpeed: number = 800;

  // è·³è·ƒ
  jump() {
    if(!this.jumpEnable) return
    let v = this.rbBody.linearVelocity
    v.y = this.jumpSpeed
    this.rbBody.linearVelocity = v
    this.jumpEnable = false;
  }
```
ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**å¦‚ä½•åˆ¤æ–­Playerç°åœ¨æ˜¯å¦å¯ä»¥è·³è·ƒ**ï¼Œå› ä¸ºPlayeråªæœ‰åœ¨ç¡®è®¤åŒè„šåœ¨åœ°ä¸Šæ—¶æ‰èƒ½è¿›è¡Œä¸‹æ¬¡è·³è·ƒï¼Œè¦ä¸å°±å·¦è„šè¸©å³è„šåŸåœ°é£å‡äº†ã€‚

**åˆ¤æ–­çš„æ–¹æ³•æ˜¯æ£€æµ‹ç¢°æ’çš„æ³•å‘é‡çš„yå€¼æ˜¯å¦å°äº0**ï¼Œå°äº0è¯´æ˜æ­¤æ—¶åœ°é¢åœ¨ä½äºPlayerçš„æ–¹å‘ï¼š
```typescript
// æ£€æµ‹ä¸åœ°é¢ä¹‹é—´çš„ç¢°æ’
onBeginContact(contact, self, other){
    // å½“å‰æ¥è§¦åˆ°åœ°é¢ï¼Œå¯ä»¥è·³èµ·
    let group = other.node.group
    if(other.tag == CollisionTags.ground && self.tag == playerCollistionTags.move){
        // ä»ä¸Šè‡³ä¸‹è½ä¸‹
        let normal = contact.getWorldManifold().normal
        if(normal.y < 0){
          this.jumpEnable = true
        }
    }
}
// æ£€æµ‹ç©å®¶åŒè„šç¦»åœ°
onEndContact(contact, self, other){
   // ç¦»å¼€åœ°é¢ï¼Œæ— æ³•è·³èµ·
   if(other.tag == CollisionTags.ground && self.tag == playerCollistionTags.move){
       // ç¦»å¼€è„šä¸‹çš„ç‰©ä½“
       let normal = contact.getWorldManifold().normal
       if(normal.y < 0){
          this.jumpEnable = false
       }
   }
}
```

ç›¸æœºè·Ÿéšè¿™é‡Œè¿›è¡Œäº†**é«˜åº¦æ§åˆ¶**ï¼š

- ä»¥åŠä¸ªå±å¹•çš„é«˜åº¦ï¼ˆä¹Ÿå°±æ˜¯Canavsçš„åŸç‚¹é«˜åº¦ï¼‰ä¸ºé«˜åº¦è·ŸéšèŠ‚ç‚¹Pï¼Œåˆ’åˆ†æ•´ä¸ªåœºæ™¯
- è§’è‰²åœ¨Pç‚¹ä»¥ä¸‹ä½ç½®ï¼Œç›¸æœºä¸è·Ÿéšé«˜åº¦
- è§’è‰²åœ¨Pç‚¹ä»¥ä¸Šä½ç½®ï¼Œç›¸æœºè·Ÿéšé«˜åº¦
- ç›¸æœºç¼“åŠ¨è·Ÿéš

```typescript
// ç›®æ ‡ç›¸æœºä½ç½®
  cameraTarget = {
    x:0,
    y:0,
  }
  cameraStep = 8 // æ§åˆ¶ç¼“åŠ¨å¹³æ»‘åº¦
  // å¢åŠ ä¸€ä¸ªç¼“åŠ¨æ•ˆæœ
  updateCamera(){
    if(window.game.camera.x !== this.cameraTarget.x){
      window.game.camera.x += (this.cameraTarget.x - window.game.camera.x)/this.cameraStep
    }
    if(window.game.camera.y !== this.cameraTarget.y){
      window.game.camera.y += (this.cameraTarget.y - window.game.camera.y)/this.cameraStep
    }
  }
  // ç›¸æœºè·Ÿéš
  cameraFollow() {
    // è·Ÿéšxåæ ‡
    this.cameraTarget.x = this.node.x
    if(this.node.y <= 0){
        // èŠ‚ç‚¹åœ¨Canvasä¸­å¿ƒä»¥ä¸‹ï¼Œåˆ™ä»¥Canavsä¸ºä¸­å¿ƒ
        this.cameraTarget.y = 0
    }else{
        // èŠ‚ç‚¹é«˜äºCanavsä¸­å¿ƒï¼Œå¼€å§‹è·Ÿéš
      this.cameraTarget.y = this.node.y + scrollHeight;
    }
  }
```


#### ğŸ“¦ï¸ç‰©ä½“æŠ¬ä¸¾ä¸æŠ›å‡º

![pickup.gif](./screenshoot/pickup.gif)
ç‰©ä½“ä¸­å­˜åœ¨å‡ ç§å¯æŠ¬ä¸¾çš„ç‰©å“ï¼Œè¿™é‡Œ**ä½¿ç”¨Gourpå¯¹è¿™äº›ç‰©å“çš„Nodeè¿›è¡Œæ ‡è¯†**ã€‚

**Playeréœ€è¦ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºå­˜æ”¾å½“å‰é™„è¿‘å¯æŠ¬ä¸¾çš„ç‰©å“**ï¼Œè¿™ä¸ªæ•°ç»„åœ¨ç¢°æ’æ£€æµ‹ä¸­è¿›è¡Œåˆ·æ–°,
å½“å¯æŠ¬ä¸¾ç‰©å“è¢«Playerè§¦ç¢°åˆ°æ—¶ï¼Œå°±è¢«çº³å…¥æ•°ç»„ä¹‹ä¸­ï¼Œå½“ç¢°æ’ç»“æŸæ—¶ï¼Œå†è¢«ä»æ•°ç»„ä¸­æ¸…é™¤ï¼š
```typescript
    // ç¢°æ’ç›’æ£€æµ‹
    onBeginContact(contact, self, other){
        // åˆ¤æ–­æ˜¯å¦æ˜¯å¯äº¤äº’ç‰©å“ï¼Œæ˜¯å¦æ˜¯äº¤äº’æ¢æµ‹ç¢°æ’ç›’æ£€æµ‹åˆ°çš„ç¢°æ’
        if(pickableList.includes(other.node.group) && self.tag == playerCollistionTags.pick){
            
            // æ£€æµ‹æ˜¯å¦å·²ç»å­˜åœ¨è¿™ä¸ªç‰©å“
            if(this.pickItemList.findIndex(item=>item.uuid == other.node.uuid) < 0){
                // æ¨å…¥è¯¥ç‰©å“
                this.pickItemList.push(other.node)
            }
        }
    }
    onEndContact(contact, self, other){
        if(pickableList.includes(other.node.group) && self.tag == playerCollistionTags.pick){
            // ä»æ•°ç»„ä¸­è¿‡æ»¤æ‰
            this.pickItemList = this.pickItemList.filter(item=>other.node.uuid !== item.uuid)
        }
    }
```

**å½“Playerç›‘å¬åˆ°æŠ¬ä¸¾å‘½ä»¤æ—¶ï¼Œé¦–å…ˆåˆ¤æ–­æ‰‹ä¸­æœ‰æ²¡æœ‰ç‰©å“**ï¼Œå¦‚æœæœ‰ï¼Œä¸‹ä¸€æ­¥åŠ¨ä½œåˆ™æ˜¯å°†ç‰©å“æŠ›å‡ºå»ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šä»å¯æŠ¬ä¸¾ç‰©å“é˜Ÿåˆ—ä¸­æŒ‘å‡ºé˜Ÿé¦–ç‰©å“ä¸¾èµ·ã€‚

è¿™é‡Œ**éœ€è¦ç»™æŠ¬ä¸¾/æŠ›å‡ºåŠ¨ä½œä¸€ä¸ªCDé—´éš”**ï¼Œè®©å®ƒæ— æ³•è¢«è¿ç»­è§¦å‘ï¼Œå› ä¸ºè¿™æ ·ä¼šå¯¼è‡´Playerå°†åˆšåˆšä»æ‰‹ä¸­æŠ›å‡ºçš„ç‰©å“åˆæŠ¬ä¸¾å›æ¥çš„åŠ¨ä½œï¼š

```typescript

    // ç‰©å“æ”¶é›†çš„CD
    pickingCD = 0
    // æ˜¯å¦å¯ä»¥æ¡èµ·
    pickable:boolean = false
    // è¢«æ¡èµ·æ¥çš„ç‰©å“
    pickItemList:cc.Node[] = []
    // æ¡èµ·ç‰©å“
    pickup(){
        if(this.pickingCD>0) return
        this.pickingCD = 20
        // å¦‚æœæ‰‹ä¸­æœ‰ç‰©å“ï¼Œä¸¢å‡ºå»
        if(this.pickingItem) {
            this.throwOut()
            return
        }
        if(this.pickItemList.length > 0){
            // æŠ¬ä¸¾ç‰©å“
            this.pickingItem = this.pickItemList.shift()
            this.lift()
        }
    }
    update(){
        // CDå†·å´
        if(this.pickingCD > 0){
            this.pickingCD --
        }
    }
```

ä¸¾èµ·ç‰©å“å’ŒæŠ›å‡ºç‰©å“æ˜¯ä¸¤ç§æˆªç„¶ç›¸åçš„åŠ¨ä½œï¼š
- ä¸¾èµ·ç‰©å“ï¼š*åˆ‡æ¢ä¸¾èµ·è´´å›¾ï¼Œè¢«ä¸¾èµ·ç‰©çš„RigidBodyå¤±æ•ˆï¼Œç‰©å“åæ ‡å®šä½åˆ°Playerçš„å¤´é¡¶ä½ç½®*
- æŠ›å‡ºç‰©å“ï¼š*åˆ‡æ¢æ­£å¸¸è´´å›¾ï¼Œæ¢å¤ç‰©å“RigidBodyï¼Œå¹¶ç»™å®ƒä¸€ä¸ªå’Œç©å®¶æœå‘ç›¸åŒçš„linearVelocityçº¿æ€§é€Ÿåº¦ä½œä¸ºæŠ›å‡ºåŠ›*

```typescript
    // ä¸¢å‡ºç‰©å“
    throwOut(){
        // åˆ‡æ¢è´´å›¾
        this.toggleSprite('normal')
        // æ£€æŸ¥å½“å‰ç©å®¶çš„æœå‘ï¼Œå‘æŒ‡å®šæœå‘ä¸¢å‡ºç‰©å“
        const pm = this.node.getComponent(PlayerMove)
        const dir = pm.dir
        // æ­¤å¤„é¡ºåºä¸èƒ½é¢ å€’ï¼Œå¦åˆ™å—åŠ›å¤±è´¥
        const pickRb = this.pickingItem.getComponent(cc.RigidBody)
        pickRb.enabled = true
        this.pickingItem.getComponent(cc.PhysicsPolygonCollider).enabled = true
        let v = pickRb.linearVelocity
        pickRb.gravityScale = 1
        v.x = 300* dir
        v.y = 300
        pickRb.linearVelocity = v
        this.pickingItem = null
    }
    // ä¸¾èµ·ç‰©å“
    lift(){
        // åˆ‡æ¢è´´å›¾
        this.toggleSprite('pick')
        let pickRb = this.pickingItem.getComponent(cc.RigidBody)
        // å°†çº¿æ€§é€Ÿåº¦ã€è§’é€Ÿåº¦æ§åˆ¶ä¸º0
        // å³ä¾¿æ˜¯æŠŠåˆšä½“æ’¤ç¦»ä¹‹åï¼Œç‰©ä½“ä¾æ—§ä¼šæŒ‰ç…§åŸæœ¬çš„è§’é€Ÿåº¦è¿åŠ¨
        pickRb.linearVelocity.x = 0
        pickRb.linearVelocity.y = 0
        pickRb.angularVelocity = 0
        pickRb.gravityScale = 0
        pickRb.enabled = false
        this.pickingItem.getComponent(cc.PhysicsPolygonCollider).enabled = false
        // åæ ‡å®šåˆ°å¤´é¡¶ä½ç½®
        this.pickingItem.x = this.node.x
        this.pickingItem.y = this.node.y + this.pickingItem.height
    }
```

#### ğŸ§°ç¤¼ç‰©åˆæˆ

![merge.gif](./screenshoot/merge.gif)

åˆæˆä¸€ä¸ªç¤¼ç›’ï¼Œä¸€å…±éœ€è¦ä¸‰ç§åŸæ–™ï¼Œå¹¶ä¸”æ¯ç§åŸæ–™ä»…ä»…éœ€è¦ä¸€ç§ã€‚

å› æ­¤åˆæˆå°å°±æœ‰ä¸‰ä¸ªç©ºä½ï¼Œåˆ†åˆ«ç•™ç»™å½©çº¸ã€å½©å¸¦ã€ç¤¼ç‰©ç±»å‹çš„èŠ‚ç‚¹ï¼Œ
å¦‚æœç›‘å¬åˆ°æœ‰èŠ‚ç‚¹è¿›å…¥äº†å®ƒçš„æ£€æµ‹åœˆï¼Œå¹¶ä¸”æ˜¯å¯ä»¥ç”¨äºåˆæˆçš„ææ–™ç±»å‹ï¼Œåˆæˆå°å°±ä¼šç»§ç»­æ£€æµ‹ææ–™å¯¹åº”çš„åˆæˆå¸­ä½æœ‰æ²¡æœ‰è¢«å ç”¨ï¼Œ

**å¦‚æœæ²¡æœ‰ï¼Œåˆ™å°±å°†ç›®æ ‡ææ–™çº³å…¥å¸­ä½ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç›®æ ‡ææ–™ä½œä¸ºå¤‡ç”¨ææ–™è¿›å…¥å¾…åˆæˆææ–™é˜Ÿåˆ—ä¸­ã€‚**

![worktable.png](./screenshoot/worktable.png)

*åˆæˆå°å¸å…¥ç¢°æ’æ£€æµ‹ï¼š*
```typescript
  // å­˜æ”¾å½“å‰åŒ…å›´åœˆé‡Œå¯ä»¥è¢«ä½¿ç”¨çš„ææ–™
  contactMats = [];
  // ç¢°æ’ç›‘å¬
  onBeginContact(contact, self, other) {
    // ä¸æ˜¯åˆæˆåŒ…å›´ç›’ç›‘å¬åˆ°çš„ç¢°æ’
    // ä¸æ˜¯åŸææ–™çš„ï¼Œè¿”å›
    if (self.tag != 1 || !materialGroupList.includes(other.node.group)) return;
    // contactMatä¸­å·²ç»å­˜åœ¨çš„ï¼Œè¿”å›
    if (this.contactMats.find((item) => item.uuid == other.node.uuid)) return;
    // è£…è½½çš„ææ–™ä¸­å·²ç»å­˜åœ¨çš„ï¼Œè¿”å›
    if (Object.values(this.mat).find((item) => item?.uuid == other.node.uuid))
      return;

    this.contactMats.push(other.node);
  }

  onEndContact(contact, self, other) {
    // å·²ç»è£…è½½çš„ææ–™ï¼Œä¸ç”¨å†åˆ¤æ–­äº†
    if (Object.values(this.mat).find((item) => item?.uuid == other.node.uuid))
        return;
    
    // å‰”é™¤
    this.contactMats = this.contactMats.filter(
      (item) => item.uuid != other.node.uuid
    );
  }
```

*æœ‰äº†ä¸€ä¸ªå­˜æ”¾å¯åˆæˆç‰©çš„æ•°ç»„ä¹‹åï¼Œå°±å¯ä»¥åœ¨updateä¸­è¿›è¡Œè£…å¡«äº†ï¼Œä¹Ÿå°±æ˜¯åšææ–™ç‰©åŒ¹é…ï¼š*

```typescript
// åˆå§‹ææ–™å¸­ä½
initMaterial = {
  // ç¤¼ç‰©
  gift: undefined,
  // çº¸å¼ 
  papper: undefined,
  // ä¸å¸¦
  ribbon: undefined,
  // ææ–™é›†é½æ€»æ•°
  count: 0,
};
// ææ–™å¸­ä½
mat = {...initMaterial};
 // å¯¹å·å…¥åº§
  preload() {
    let cm = [...this.contactMats]
    for (let material of cm) {
      let load = false
      switch (material.group) {
        case "Gift":
          if (!this.mat.gift) {
            this.mat.gift = material;
            load = true
          }
          break;
        case "Papper":
            if(!this.mat.papper){
                this.mat.papper = material;
                load = true
            }
          break;
        case "Ribbon":
            if(!this.mat.ribbon){
                this.mat.ribbon = material
                load = true
            }
          break;
      }
      // æœ‰æ–°ææ–™è¢«å¡«å…¥
      if(load){
        this.mat.count++
        // å°†å·²å¡«å…¥çš„ææ–™ä»é¢„å¤‡åˆ—è¡¨ä¸­æå‡º
        this.contactMats = this.contactMats.filter(item=>item.uuid != material.uuid)
        // çº³å…¥å¸­ä½çš„ææ–™é‡åŠ›å˜ä¸º0
        let matRb = material.getComponent(cc.RigidBody)
        matRb.gravityScale = 0
        let v = matRb.linearVelocity
        v.x = 0
        v.y = 0
        matRb.linearVelocity = v
        let matCol = material.getComponent(cc.PhysicsPolygonCollider)
        matCol.enabled = false
        matRb.enabled = false
      }
      // ä¸‰ä¸ªå¸­ä½å…¨æ»¡ï¼Œç»“æŸé¢„è£…å¡«
      if(this.mat.count>=3){
        break;
      }
    }
  }
```

*è¢«çº³å…¥å¸­ä½çš„ææ–™ä¼šå›´ç»•ç€å·¥ä½œå°ä¸Šæ–¹çš„åˆæˆç‚¹è¿›è¡Œæ—‹è½¬ï¼š*

```typescript
  // åˆå¹¶é˜¶æ®µçš„æ—‹è½¬é€Ÿåº¦
  mergingSpinSpeed = 2;
  // åˆå¹¶/è¢«å¸å…¥çš„é€Ÿåº¦
  mergeSpeed = 0.5;
  // æ—‹è½¬
  spin(){
    let spinItems = Object.values(this.mat).filter(item=>{
        return item && item instanceof cc.Node
    })
    spinItems.forEach(item=>{
        // è®¡ç®—ææ–™ç›¸å¯¹åˆæˆç‚¹ï¼ˆåœ†å¿ƒï¼‰çš„åæ ‡
        let diffX = item.x - this.center.x
        let diffY = item.y - this.center.y
        let distance = Math.sqrt(diffX ** 2 + diffY ** 2)
        // è®¡ç®—å¼§åº¦
        let radian = Math.atan(diffY / diffX)
        // å¼§åº¦è½¬è§’åº¦
        let angle = radian * 180 / Math.PI
        if(diffX < 0) angle+=180
        if(angle < 0) angle += 360
        angle += this.spinSpeed
        radian = angle * Math.PI / 180

        distance -= this.mergeSpeed
        let r = distance > this.spinRadius? distance: this.spinRadius
        item.x = this.center.x + r * Math.cos(radian)  
        item.y = this.center.y + r * Math.sin(radian)  
    })
  }
```

å½“ä¸‰ä¸ªå¸­ä½éƒ½æœ‰å¯¹åº”çš„ææ–™æ—¶ï¼Œ**å¼€å§‹åˆå¹¶ï¼Œæ­¤æ—¶ææ–™çš„æ—‹è½¬åŠå¾„å¼€å§‹é€æ¸å‡å°ï¼Œææ–™è¢«å·å…¥åˆæˆç‚¹ï¼Œç›´åˆ°è¶…è¿‡æœ€å°åŠå¾„é˜ˆå€¼æ—¶ï¼Œåˆ¤å®šåˆæˆç»“æŸï¼Œç”Ÿæˆç¤¼ç›’ï¼š**

```typescript
  // åˆå¹¶çŠ¶æ€ï¼šé›†é½3ä¸ªææ–™ï¼Œææ–™ä»¬å¼€å§‹å‘å†…è¢«å¸å…¥ï¼Œæ—‹è½¬é€Ÿåº¦åŠ é€Ÿ
  isMerge = false;
  // æœ€å°çš„æ—‹è½¬åŠå¾„ï¼ˆå°äºè¿™ä¸ªå€¼åˆ¤æ–­ä¸ºåˆæˆç»“æŸï¼‰
  minRadius = 5;
  // åˆå¹¶/è¢«å¸å…¥çš„é€Ÿåº¦
  mergeSpeed = 0.5;
  // å¼€å§‹åˆå¹¶
  merge(){
    // æ”¶ç¼©
    this.spinRadius -= this.mergeSpeed
    // ç¼©åˆ°æœ€å°æ•°å€¼
    if(this.spinRadius < this.minRadius){
        this.mergeEnd()
    }
  }
  // åˆå¹¶ç»“æŸ
  mergeEnd(){
    // æ­¤å¤„åº”è¯¥ç”Ÿæˆä¸€ä¸ªæ–°çš„ç¤¼ç‰©
    this.generateGift(this.mat.gift)
    this.mat.gift.active = false
    this.mat.papper.active = false
    this.mat.ribbon.active = false
    // this.mat = JSON.parse(JSON.stringify(initMaterial))
    this.mat = {...initMaterial}
    this.spinRadius = initSpinRadius
    this.spinSpeed = initSpinSpeed
    this.isMerge = false
  }
  // ç”Ÿæˆç¤¼ç‰©
  generateGift(gift){
    // æ ¹æ®ç¤¼ç‰©çš„å°ºå¯¸è·å–ç¤¼ç‰©ç›’ï¼Œæ­¤å¤„å…³äºç¤¼ç‰©prefabç•¥
    const giftPrefab = this.giftBoxPrefab[gift.getComponent(Gift).size]
    const newGiftBox = cc.instantiate(giftPrefab)
    let giftBoxCom = newGiftBox.getComponent(GiftBox)
    giftBoxCom.setGift(gift)
    newGiftBox.x = this.center.x
    newGiftBox.y = this.center.y
    newGiftBox.setParent(this.giftBoxGroup)
  }
```

*ä»é¢„è£…ææ–™åˆ°åˆå¹¶ï¼Œéœ€è¦åœ¨updateä¸­è¿›è¡Œæ£€æµ‹ï¼š*

```typescript
  update() {
    this.spinSpeed = initSpinSpeed
    if (this.mat.count < 3) {
      this.preload(); // é¢„è£…
    }else{
      this.spinSpeed = this.mergingSpinSpeed
      this.merge() // åˆå¹¶
    }
    if(this.mat.count>0){
        this.spin() // æ—‹è½¬
    }
  }
```

#### ğŸç¤¼ç›’å®šåˆ¶
![changeStyle.gif](./screenshoot/changeStyle.gif)

ç¤¼ç›’å®šåˆ¶çš„ä¸»è¦é—®é¢˜å°±æ˜¯ï¼Œæ‰€æœ‰æ­é…çš„ç¤¼ç›’æ ·å¼ï¼Œéƒ½è¦æœ‰å®ƒå¯¹åº”çš„èµ„æºå›¾ç‰‡ï¼Œ**æŒ‰ç…§æŸç§è§„åˆ™å‘½åï¼š**

> *å°ºå¯¸-å½©çº¸é¢œè‰²-å½©å¸¦é¢œè‰²-çº¹ç†*

åœ¨æ ·å¼ç¼–è¾‘èœå•ç»“æŸåï¼Œç”Ÿæˆç¤¼ç›’æ ·å¼å¯¹åº”çš„å›¾ç‰‡èµ„æºçš„åç§°ï¼Œç„¶åä½¿ç”¨cc.resources.loadè¿›è¡ŒåŠ¨æ€åŠ è½½ï¼š
```typescript
    // é‡æ–°åŠ è½½è´´å›¾
    resetSprite(){
        /**
         * è´´å›¾å‘½åæ¨¡ç‰ˆ
         * ç›’å­å°ºå¯¸-ç›’å­é¢œè‰²-ä¸å¸¦é¢œè‰²-ç›’å­çº¹ç†
         * å¤§-è“-ç™½-çº¯è‰²
         */
        let name = [
            SizeType[this.size],
            ColorType[this.color],
            RibbonColorType[this.ribbonColor],
            PatternType[this.pattern]
        ].join('-')
        cc.resources.load(`imgs/boxes/${name}`,cc.SpriteFrame, (error:Error, assets:cc.SpriteFrame)=>{
            if(error){
                console.log(error)
                return
            }
            this.node.getComponent(cc.Sprite).spriteFrame = assets
            this.isMerge && this.playChange()
        })
    }
```

#### ğŸ›·ç¤¼ç›’åŒ¹é…æ£€æµ‹

å½“ç¤¼ç‰©ç›’æ£€æµ‹åˆ°ä¸é›ªæ©‡çš„ç¢°æ’æ—¶ï¼Œä¼šæ£€æµ‹å­©å­æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨ä¸è¯¥ç¤¼ç‰©ç›’åŒ¹é…çš„æ•°æ®ï¼Œ**å¦‚æœå­˜åœ¨ï¼Œåˆ™åˆ¤å®šç¤¼ç‰©åŒ…è£…æˆåŠŸï¼Œä¸å­˜åœ¨åˆ™åˆ¤å®šå¤±è´¥ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªåå¼¹çš„åŠ›ï¼š**
```typescript
 // å¼€å§‹ç¢°æ’
    onBeginContact(contact, self, other){
        if(!this.isMerge) return
        if(this.done) return
        // æ£€æµ‹æ˜¯å¦æ˜¯é›ªæ©‡è½¦çš„ç¤¼ç‰©æ£€æµ‹ç¢°æ’ç›’
        if(other.tag == 3 && other.node.name == 'SnowCar'){
            let success = false
            // debugger
            // å¯¹ç¤¼ç‰©ç»„åˆè¿›è¡Œåˆ¤å®š
            let data = window.game.childList.json.data
            for(let i = 0; i< data.length; i++){
                let child = data[i]
                // å·²ç»åŒ…è£…å®Œæ¯•
                if(child.isDone) {
                    continue
                };

                let giftList = window.game.globalDict.json.gift
                let wish = giftList.find(item=>item.value == child.gift)
                // ç¤¼ç‰©ä¸ä¸€è‡´
                if(wish.name !== this.gift.name) continue;
                if(
                    child.papper == this.color &&
                    child.ribbon == this.ribbonColor &&
                    child.pattern == this.pattern 
                ){
                    // åˆ¤å®šç¤¼ç‰©åˆ†é…ç»“æŸ
                    child.done = true
                    success = true
                    this.node.group = "default"
                    break;
                }
            }
            if(success){
                this.done = true
                let collider = this.node.getComponent(cc.PhysicsPolygonCollider)
                collider.density = 1000
                collider.friction = 1000

            }else{
                // æ–½åŠ ä¸€ä¸ªå‘å¤–çš„åŠ›
                const rb = this.node.getComponent(cc.RigidBody)
                let v = rb.linearVelocity
                v.x = -300 
                v.y = 300
                rb.linearVelocity = v
            }
        }
    }
```

*æ£€æµ‹æˆåŠŸæ•ˆæœï¼š*

![rightBox.gif](./screenshoot/rightBox.gif)

*æ£€æµ‹å¤±è´¥æ•ˆæœï¼š*

![wrongBox.gif](./screenshoot/wrongBox.gif)

#### ğŸ—¨å¯¹è¯ç³»ç»Ÿ

![talkSystem.gif](./screenshoot/talkSystem.gif)

**å¯¹è¯äº¤äº’çš„æ•´ä¸ªå®ç°æµç¨‹ï¼š**

1. è§¦å‘è§’è‰²å¯¹è¯
2. åˆ‡æ¢å¯¹è¯ä¸­UI
3. æ ¹æ®å½“å‰æ¸¸æˆçŠ¶æ€åˆ¤æ–­è½½å…¥çš„æ¸¸æˆè„šæœ¬
4. ç»‘å®šå¯¹è¯æ—¶é”®ç›˜äº‹ä»¶
5. æ¨¡æ‹Ÿæ‰“å­—å­—å¹•æ•ˆæœ
6. å½“å‰è¯­å¥ç»“æŸï¼ŒåŠ è½½ä¸‹ä¸€å¥è¯
7. æ‰€æœ‰å¯¹è¯åŠ è½½å®Œï¼Œå¯¹è¯ç»“æŸ


*ç¬¬ä¸€æ­¥ï¼šè§¦å‘ä¸NPCä¹‹é—´çš„å¯¹è¯ï¼Œåˆ‡æ¢å¯¹è¯UIï¼š*
```typescript
    // å’ŒNPCè¯´è¯
    talk(){
        // æ¸¸æˆæš‚åœ
        window.game.Pause()
        // åˆ‡æ¢å¯¹è¯ä¸­UI
        this.ToggleTalkUI(true).then(res=>{
            // UIåˆ‡æ¢å¥½ä¹‹åè¿›å…¥å¯¹è¯
            this.startLoadTalk()
        })
    }
```

*ç¬¬äºŒæ­¥ï¼šè½½å…¥å½“å‰å¯¹è¯*
```typescript
    // åŠ è½½å¯¹è¯
    startLoadTalk(){
        // ä¸‹é¢ä¸€ç³»åˆ—åˆ†æ”¯ç”¨äºåˆ¤æ–­å½“å‰åº”è¯¥è¿›è¡Œçš„å¯¹è¯å†…å®¹
        if(!this.hasInitTalked){
            // å¦‚æœæ²¡æœ‰ç»è¿‡å¼€åœºå¯¹è¯ï¼ŒåŠ è½½å¼€åœºå¯¹è¯è„šæœ¬
            this.curScript = this.initScript
            this.hasInitTalked = true
        }else if(this.isGameEndTalk){
            // æ­¤æ—¶æ¸¸æˆå·²ç»ç»“æŸï¼ŒåŠ è½½ç»“æŸå¯¹è¯
            this.curScript = this.gameEndTalk
        }else{
            // æ­£åœ¨æ¡èµ·çš„ç‰©å“
            let pickingItem = this.pickComp.pickingItem
            let group = pickingItem?.group
            // å¦‚æœæ˜¯æ‰‹ä¸Šæ‹¿ç€ç¤¼ç‰©æˆ–è€…æ˜¯ç¤¼ç‰©ç›’ï¼ŒåŠ è½½ç¤¼ç‰©å¯¹åº”çš„è„šæœ¬
            if(group == 'Gift'){ // æ˜¯ç¤¼ç‰©ï¼Œç›´æ¥åŠ è½½è„šæœ¬
                this.curScript = pickingItem.getComponent(Gift).script.json
            }else if(group == 'GiftBox'){
                let gift = pickingItem.getComponent(GiftBox).gift
                this.curScript = gift.getComponent(Gift).script.json
            }else{
                // å¦‚æœæ˜¯å…¶å®ƒæƒ…å†µï¼Œåˆ™åŠ è½½éšæœºå¯¹è¯
                this.curScript = this.randomTalkScript[this.randomTalkIndex]
                this.randomTalkIndex = (this.randomTalkIndex + 1) % this.randomTalkScript.length
            }
        }
        // é‡ç½®å¯¹è¯å†…å®¹
        this.loadNextWord(null)
        // ç»‘å®šå¯¹è¯é”®ç›˜äº‹ä»¶
        cc.systemEvent.on(
            cc.SystemEvent.EventType.KEY_UP,
            this.loadNextWord,
            this
        )
        
    }
```

*ç¬¬ä¸‰æ­¥ï¼šå¯¹è¯ä¸­çš„é”®ç›˜äº‹ä»¶ã€æ¨¡æ‹Ÿæ‰“å­—ä¸å¯¹è¯ç»“æŸ*

æ­¤å¤„çš„å…³é”®ç‚¹åœ¨äºï¼šå¯¹è¯ç»“æŸåï¼Œ**ä¸€å®šè¦å¯¹æ­¤æ¬¡å¯¹è¯å¼€å§‹æ—¶ç»‘å®šçš„é”®ç›˜äº‹ä»¶è¿›è¡Œè§£ç»‘å®š**ï¼Œå› ä¸ºå¦‚æœä¸è§£ç»‘ï¼Œå°±ä¼šåœ¨ä¸‹æ¬¡å¯¹è¯äº‹ä»¶è¢«è§¦å‘æ—¶å†æ¬¡ç»‘å®šä¸€æ¬¡å¯¹è¯äº‹ä»¶ï¼Œç›¸å½“äºåŒä¸€ä¸ªé”®ç›˜æ“ä½œå¯¹åº”2ä¸ªå·²ç»è¢«ç»‘å®šçš„é”®ç›˜äº‹ä»¶ï¼Œå½“è§¦å‘ã€ä¸‹ä¸€å¥è¯ã€‘çš„æ“ä½œæ—¶ï¼Œå®é™…ä¼šæ‰§è¡Œ2æ¬¡ã€è½½å…¥ä¸‹ä¸€å¥è¯ã€‘æ“ä½œï¼Œ**å°±ä¼šå‡ºç°è·³å¥ç°è±¡**ã€‚


```typescript
    loadNextWord(event:cc.Event.EventKeyboard){
        const talkEnd = ()=>{
            this.curScript = null
            // ä¸€å®šè¦å¯¹å·²ç»ç»‘å®šçš„å¯¹è¯äº‹ä»¶è§£ç»‘
            cc.systemEvent.off(
                cc.SystemEvent.EventType.KEY_UP,
                this.loadNextWord,
                this
            )
            // ç»“æŸå¯¹è¯
            this.stopTalk()
        }

        // è¾“å…¥çš„æ˜¯ç©ºæ ¼ï¼Œè·³è¿‡å¯¹è¯
        if(event && event.keyCode == cc.macro.KEY.space){
            talkEnd()
            this.typingLocation = 0
            this.targetContent = ''
            return 
        }

        if(event && event.keyCode !== cc.macro.KEY.e) return
        // å­—è¿˜æ²¡æœ‰æ‰“å®Œï¼ŒæŒ‰Eç›´æ¥æ˜¾ç¤ºå…¨éƒ¨å¯¹è¯
        if(this.tCLabelCp.string.length !== this.targetContent.length) {
            this.typingLocation = this.targetContent.length
            this.tCLabelCp.string = this.targetContent
            // æ­¤å¤„æ¸…ç©ºçš„æ˜¯æ¨¡æ‹Ÿæ‰“å­—ä¸­ç”¨åˆ°çš„å»¶æ—¶å™¨
            clearTimeout(this.typingTimer)
            return
        }
        this.typingLocation = 0
        this.targetContent = ''
        // ä»£è¡¨ä¸€å¥è¯å·²ç»åŠ è½½å®Œ
        if(this.curTalkIndex >= this.curScript.data.length) {
            this.curScript = null
            talkEnd()
            return
        }
        // åŠ è½½ä¸‹ä¸€å¥è¯
        let wordData = this.curScript.data[this.curTalkIndex]
        // è·å–è¯´è¯è€…ä¿¡æ¯
        let talker = this.curScript.chara.find(item=>item.id == wordData.talker)
        // å°†è¯´è¯è€…åå­—è½½å…¥åå­—Nodeä¸­
        this.tNameLabelCp.string = talker.name[window.globalData.lang]
        this.talkerNameLabel.color = new cc.Color(...talker.color)
        // è¯´è¯äººéŸ³æ•ˆ
        this.talkerSound = talker.sound

        // æ­¤å¤„æ’å…¥ä¸€ä¸ªæ‰“å­—ç‰¹æ•ˆ
        this.targetContent = wordData.content[window.globalData.lang]
        this.tCLabelCp.string = ''
        // æ¨¡æ‹Ÿæ‰“å­—æ•ˆæœ
        this.simTyping()

        this.curTalkIndex ++
    }
        // æ‰“å­—é€Ÿåº¦
    typingSpeed:number = 100
    // æ‰“å­—ä½ç½®è®°å½•
    typingLocation:number = 0
    // ç›®æ ‡æ‰“å­—å†…å®¹
    targetContent:string = ''

    typingTimer = null
    // æ¨¡æ‹Ÿæ‰“å­—
    simTyping(){    
        window.globalData.playSound(this.talkerSound)
        this.tCLabelCp.string += (this.targetContent[this.typingLocation] || '')
        this.typingLocation ++
        if(this.typingLocation < this.targetContent.length){
            this.typingTimer = setTimeout(()=>{
                this.simTyping()
            },this.typingSpeed)
        }
    }
    // åœæ­¢è¯´è¯ï¼Œè°ˆè¯ç»“æŸ
    stopTalk(){
        // é€€å‡ºå¯¹è¯UI
        this.ToggleTalkUI(false).then(res=>{
            // æ¸¸æˆç»§ç»­
            window.game.Continue()
            this.curTalkIndex = 0
            this.tNameLabelCp.string = ''
            this.tCLabelCp.string = ''
            this.targetContent = ''
        })
    }
```

### ğŸ”å…¶ä»–é—®é¢˜

#### ğŸ§©å…¨å±€çŠ¶æ€ç®¡ç†

**å•ä¸€åœºæ™¯å†…å¤šä¸ªèŠ‚ç‚¹çš„å…±äº«çš„çŠ¶æ€**ï¼Œä½¿ç”¨ä¸€ä¸ªå•ä¸€åœºæ™¯è„šæœ¬ç±»Gameè¿›è¡Œæ§åˆ¶ï¼Œå°†GameæŒ‚è½½åˆ°CanvasèŠ‚ç‚¹ä¸Šï¼Œç„¶åå­˜æ”¾åˆ°æµè§ˆå™¨çš„windowä¸­ã€

**å¤šä¸ªåœºæ™¯å…±äº«çš„çŠ¶æ€ï¼Œ** å­˜æ”¾åœ¨å…¥å£åœºæ™¯ä¸­çš„globalDataèŠ‚ç‚¹ä¸­ï¼Œå°†è¯¥èŠ‚ç‚¹é€šè¿‡*cc.game.addPersistRootNode*è¿›è¡Œä¿å­˜ï¼Œå¯ä»¥åœ¨å¤šä¸ªåœºæ™¯å†…è®¿é—®åˆ°ï¼Œç”¨äºå­˜æ”¾ä¸€äº›æ¸¸æˆæ€»çŠ¶æ€ã€æ€»è®¾ç½®å‚æ•°ã€‚

#### ğŸŒ²åœºæ™¯åˆ‡æ¢é—®é¢˜

å¦‚æœéœ€è¦ä»Aåœºæ™¯åˆ‡æ¢åˆ°Båœºæ™¯ï¼Œ**éœ€è¦é”€æ¯Aåœºæ™¯ä¸­ç»‘å®šçš„å…¨å±€äº‹ä»¶**ï¼Œå¦åˆ™ä¹‹å‰ç»‘å®šçš„äº‹ä»¶ä¾ç„¶ä¼šè¢«æ­£å¸¸è°ƒç”¨ï¼š
```typescript
  // å¦‚æœä¸é”€æ¯ç»‘å®šçš„äº‹ä»¶ï¼Œåˆ‡æ¢åœºæ™¯è°ƒç”¨çš„æ˜¯è¢«é”€æ¯èŠ‚ç‚¹ä¸Šçš„è„šæœ¬
  onDestroy(): void {
    cc.systemEvent.removeAll(cc.SystemEvent.EventType.KEY_DOWN)
    cc.systemEvent.removeAll(cc.SystemEvent.EventType.KEY_UP)
  }
```

#### âŒ¨ï¸äº‹ä»¶ç»‘å®šé—®é¢˜

- å‚è€ƒåšå®¢ï¼š[æ¸¸æˆå¼€å‘-cocos creatorè¸©å‘-bind(this)å¯¼è‡´çš„äº‹ä»¶ç›‘å¬offä¸æ‰](https://www.cnblogs.com/orxx/p/10941079.html "å‘å¸ƒäº 2019-05-28 23:20")

åœ¨ç»‘å®šå¯¹è¯é”®ç›˜äº‹ä»¶æ—¶ï¼Œæœ€åˆä½¿ç”¨çš„æ˜¯bindç»‘å®šäº‹ä»¶çš„thisï¼š
```typescript
        cc.systemEvent.on(
            cc.SystemEvent.EventType.KEY_UP,
            this.loadNextWord.bind(this)
        )
```
ä½†æ˜¯é€šè¿‡bindç»‘å®šçš„æ¯æ¬¡éƒ½æ˜¯æ–°çš„äº‹ä»¶ï¼Œæ— æ³•æ­£å¸¸è¿›è¡Œè§£ç»‘ã€‚

éœ€è¦ç”¨å¦ä¸€ç§æ–¹å¼æ¥å¯¹å…¨å±€äº‹ä»¶è¿›è¡Œç»‘å®šå’Œè§£ç»‘å®šï¼š
```typescript
        // äº‹ä»¶ç»‘å®š
        cc.systemEvent.on(
            cc.SystemEvent.EventType.KEY_UP,
            this.loadNextWord,
            this
        )
        // äº‹ä»¶ç»‘å®š
        cc.systemEvent.off(
            cc.SystemEvent.EventType.KEY_UP,
            this.loadNextWord,
            this
        )
```

#### ğŸ–±é˜²æ­¢Clickäº‹ä»¶ç©¿é€

ä¸Šå±‚èœå•å¼¹å‡ºåï¼Œè¢«é®ä½çš„æŒ‰é’®ä¾æ—§èƒ½æ­£å¸¸è§¦å‘ï¼Œéœ€è¦ç»™ä¸å¸Œæœ›è¢«ç©¿é€çš„èŠ‚ç‚¹æ·»åŠ [BlockInputEventsç»„ä»¶](https://docs.cocos.com/creator/2.4/manual/zh/components/block-input-events.html)


### ğŸ“…å®Œæ•´ç‰ˆå¼€å‘æ—¥å¿—

![dev-log.png](./screenshoot/dev-log.png)


## ğŸç¬¬ä¸‰æ­¥ï¼šä¸Šæ¶

- å‚è€ƒï¼š[å¦‚ä½•ä¸Šä¼ ä½ çš„æ¸¸æˆåˆ°itch.ioï¼Ÿ(å«ä¸Šä¼ é¡µé¢çš„ç¿»è¯‘)](https://zhuanlan.zhihu.com/p/40875481)

æœ€åä¸Šæ¶æ¸¸æˆåˆ°itch.io,

å®˜æ–¹æ¨èçš„å°é¢å›¾æ˜¯**630*500ï¼Œ**

å¦‚æœæ˜¯h5æ¸¸æˆï¼Œä¸Šä¼ åŒ…å†…çš„æ–‡ä»¶æ•°é‡**ä¸å…è®¸è¶…è¿‡1000ä¸ªï¼Œ**

æ‰€ä»¥åœ¨ä¸Šä¼ ä¹‹å‰æœ€å¥½æ¸…ç†ä¸€ä¸‹é¡¹ç›®æ–‡ä»¶å¤¹


## ğŸ”šé¡¹ç›®æ€»ç»“

1. æœ€æ·±åˆ»çš„æ€»ç»“å°±æ˜¯ï¼š**ä¸€å®šè¦é’ˆå¯¹æ¯ä¸ªåŠŸèƒ½ï¼Œè®¾è®¡å•å…ƒæµ‹è¯•ï¼**
    - ä¸ç„¶åˆ°äº†æ¸¸æˆåæœŸï¼Œæ‰€æœ‰æµç¨‹å·²ç»ä¸²èµ·æ¥ä¹‹åï¼Œå†æƒ³æ”¹ä¸€ä¸ªæ¸¸æˆä¸­çš„ä¸€ä¸ªéƒ¨åˆ†ä¼šéå¸¸ç—›è‹¦
    - è¿™éƒ¨åˆ†è¿˜åœ¨æ‘¸ç´¢ä¸­...
2. åœ¨**å…¨å±€æ•°æ®è§„åˆ’å’Œæ§åˆ¶**æ–¹é¢æ¯”è¾ƒæ··ä¹±
3. è¿™ä»…æ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªä¸»åœºæ™¯çš„å°æ¸¸æˆï¼Œ**å®é™…ä¸Šæ²¡æœ‰æ¶‰åŠä»»ä½•å¤æ‚çš„è®¾è®¡ã€‚**
4. æ ¹æ®ç©å®¶çš„å®é™…åé¦ˆï¼Œ**æ¸¸æˆåœ¨å¼•å¯¼æ–¹é¢åšçš„ä¸å¥½ï¼Œ** ç©å®¶çš„æ¸¸æˆä½“éªŒæ²¡æœ‰é¢„æƒ³çš„æµç•…ã€‚

# ğŸ’æ¸¸æˆèµ„æº

æ¸¸æˆä¸­ä½¿ç”¨åˆ°çš„éƒ½æ˜¯å¼€æºç¤¾åŒºåˆ›ä½œè€…ä»¬åˆ†äº«çš„ç´ æèµ„æºï¼š
-   **ç¾æœ¯èµ„æºï¼š**

    -   å¤§éƒ¨åˆ†æ¥è‡ªäº**WilliamBilliam**çš„å¼€æºç¾æœ¯èµ„æºåŒ…[festive-frenzy-sprite-sheet](https://williambilliam.itch.io/festive-frenzy-sprite-sheet)ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œäº†éƒ¨åˆ†æ‰©å±•ã€‚
    -   å›¾æ ‡èµ„æºæ¥è‡ªäºitch.ioä¸Šçš„åˆ›ä½œè€…**PiiiXLçš„å¼€æºç¾æœ¯èµ„æºåŒ…**[1-bit-icons-part-2](https://piiixl.itch.io/1-bit-icons-part-2)
    -   æ“ä½œè¯´æ˜çš„é”®ç›˜å›¾æ ‡èµ„æºæ¥è‡ªäºitch.ioä¸Šçš„åˆ›ä½œè€…**xPheReçš„å¼€æºç¾æœ¯èµ„æºåŒ…**[pixel-keyboard-layout](https://xphere.itch.io/pixel-keyboard-layout)
    -   éº‹é¹¿åŠ¨ç”»æ¥è‡ªäºlapizwcgçš„å¼€æºç¾æœ¯èµ„æºåŒ…[the-minifolks-forest-animals-deer-doe-free-32x32-mod-by-lapizwcg](https://lapizwcg.itch.io/the-minifolks-forest-animals-deer-doe-free-32x32-mod-by-lapizwcg)

-   **å­—ä½“èµ„æºï¼š** [Uranus-Pixel](https://github.com/scott0107000/Uranus-Pixel)

-   **éŸ³æ•ˆèµ„æºï¼š** éŸ³ä¹å’ŒéŸ³æ•ˆæ¥è‡ªäºFreeSoundä¸Šçš„åˆ›ä½œè€…[rhodesmas](https://freesound.org/people/rhodesmas/)å’Œåˆ›ä½œè€…[AudioCoffee](https://freesound.org/people/AudioCoffee/)çš„å¼€æºåˆ†äº«ã€‚
-  [é¡¹ç›®githubæºç ](https://github.com/PUYIXIU/NameYourGift)
